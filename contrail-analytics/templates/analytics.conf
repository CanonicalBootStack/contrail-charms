[DEFAULT]
# all default configs would come here - Note that configs mentioned
# here is available to all other sections unless overridden there
# Default log_level
#log_level = SYS_NOTICE

[GLOBAL]
{% if not multi_tenancy %}
analytics_aaa_mode = no-auth
{% else %}
# Multi tenancy is: {{ multi_tenancy }}
{% endif %}

# all global configurations which would affect multiple sections
# or globally applicable configurations would be coming here
# external_lb - Flag to identify the whether the loadbalancer is
# internaly hosted in the lb container or it is externally managed
# based on which the listen port of thecontrail-analytics-api will
# be decided.
# Default is False (Internally hosted in lb container)
#
#external_lb = {{ external_lb }}
cloud_orchestrator = {{ cloud_orchestrator }}
# controller_list - An array/list representation of controller
# server IP addresses - this will be used to configure rabbitmq,
# zookeeper, cassandra servers in various contrail service
# configurations and configure load balancer for various contrail
# services that needed to be loadbalanced
controller_list = [{{ '\"'~ controller_servers|join('\", \"')~ '\"' }}]

# analyticsdb_list - An array/list representation of analyticsdb
# server IP addresses - this will be used to configure cassandra,
# and kafka servers in various contrail service configurations.
# this should be list of IP addresses where cassandra and kafka
# listening
analyticsdb_list = [{{ '\"'~ analyticsdb_servers|join('\", \"')~ '\"' }}]

# controller_ip - An IP address using which one can connect to all
# public services within controller container. This can be
# a virtual IP handled by load balancer in case of multi-node
# controllers. This will be configured in various contrail
# services configurations to connect to other set of services like
# discovery_server_ip.
controller_ip = {{ lb_vip }}
analytics_list = [{{ '\"'~ analytics_servers|join('\", \"')~ '\"' }}]
analytics_ip = {{ lb_vip }}

# uve_partition_count - UVE data is partitioned to improve
# analytics performance, this configuration set number of
# partitions
#uve_partition_count = {{ uve_partition_count }}

# various analytics data ttl values which is written to cassandra
# database. After the TTL, that data expires and is no
# longer available for queries.
# analytics_configaudit_ttl -- ttl for config audit data coming
#                              into collector,
# analytics_statsdata_ttl -- ttl for statistics data,
# analytics_flowdata_ttl -- ttl for flow data,
# analytics_data_ttl -- for messages and object logs
#
# analytics_data_ttl = {{ analytics_data_ttl }}
# analytics_flow_ttl = {{ analytics_flow_ttl }}
# analytics_statistics_ttl = {{ analytics_statistics_ttl }}
# analytics_config_audit_ttl = {{ analytics_config_audit_ttl }}
#

[KEYSTONE]
version = v2.0
ip = {{ keystone_ip }}
admin_port = 35357
public_port = {{ keystone_public_port }}
auth_protocol = {{ keystone_protocol }}
admin_user = {{ keystone_admin_user }}
admin_password = {{ keystone_admin_password }}
admin_tenant = {{ keystone_admin_tenant }}

[ALARM_GEN]
# Log file and log level
#log = /var/log/contrail/contrail-alarm-gen.log
#log_level = SYS_NOTICE
#
# Introspect port for debug
#introspect_port = 5995

[ANALYTICS_API]
# Introspect port for debug
#introspect_port = 8090
#
# Listen address and port
#listen_port = 8081
#listen_address = {{ listen_address }}
#
# Log file and log_level
#log_level = SYS_NOTICE
#log = /var/log/contrail/contrail-analytics-api.log
#
# Sandesh send rate limit can be used to throttle system logs
# transmitted per second. System logs are dropped if the sending
# rate is exceeded
#sandesh_send_rate_limit = 100
#
# aaa_mode - RBAC configuration for analytics api
# no-auth - no authentication is performed and full access is
# granted to all
# cloud-admin - authentication is performed and only cloud-admin
# role has access - default cloud-admin role is "admin"
# rbac RBAC - authentication is performed and access granted based
# on role and configured rules
#aaa_mode = no-auth
#

[ANALYTICS_COLLECTOR]
# log file name and log_level
#log = /var/log/contrail/contrail-collector.log
# Log severity levels. Possible values are SYS_EMERG, SYS_ALERT,
# SYS_CRIT, SYS_ERR, SYS_WARN, SYS_NOTICE, SYS_INFO and SYS_DEBUG.
# Default is SYS_DEBUG
#log_level = SYS_NOTICE
#
# Introspect port for debug
#introspect_port = 8089
#
# Listen address and port
#listen_port = 8086
#listen_address = 0.0.0.0
#
# TCP and UDP ports to listen on for receiving syslog messages.
# -1 to disable.
#syslog_port = -1
#
# UDP port to listen on for receiving sFlow messages. -1 to disable.
#sflow_port=6343
#
# UDP port to listen on for receiving ipfix messages. -1 to disable.
#ipfix_port=4739
#
# Sandesh send rate limit can be used to throttle system logs
# transmitted per second. System logs are dropped if the sending
# rate is exceeded
#sandesh_send_rate_limit=100

[QUERY_ENGINE]
# log file name and log_level
#log = /var/log/contrail/contrail-query-engine.log
#log_level = SYS_NOTICE
#
# Introspect port for debug
#introspect_port = 8091

[SNMP_COLLECTOR]
# log file name and log_level
#log = /var/log/contrail/contrail-snmp-collector.log
#log_level = SYS_NOTICE
# Introspect port for debug
#introspect_port = 5920
#scan_frequency=600
#fast_scan_frequency=60

[TOPOLOGY]
# log file name and log_level
#log = /var/log/contrail/contrail-topology.log
#log_level = SYS_NOTICE
#introspect_port = 5921
